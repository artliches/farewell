<span class="page-layout">
    <span class="farewell-layout {{sectionToShow}}" [ngClass]="currentTheme">
        @if (sectionToShow === 'grvnts') {
            <header>
                <h1>GRVNT RECRUITER</h1>
                <span class="reroll-all">
                    <div (click)="rerollAll()" class="clickable"><strong>A NEW GRVNT FOR THE FRONT</strong></div>
                </span>
            </header>
        
            <section class="body-layout">
                <span class="toolbar">
                    <span class="flex-row">
                        <span class="theme-section">
                            <div (click)="shuffleTheme()" class="clickable">SHUFFLE THEME:</div>
                            <strong>{{getThemeName()}}</strong>
                        </span>
                        <span class="theme-section no-extra-section">
                            <div (click)="print()" class="clickable">PRINT</div>
                        </span>
                    </span>
        
                    <span class="theme-section no-extra-section">
                        <div (click)="toggleRolls()" class="clickable">{{showRolls ? 'HIDE' : 'SHOW'}} ROLLS</div>
                    </span>
                </span>
                <app-grvnt-abilities
                    class="stats"
                    [job]="jobObj"
                    [showRolls]="showRolls"
                    [beastHP]="beastHP"
                    (presence)="getPresence($event)"
                >
                </app-grvnt-abilities>
                <app-grvnt-identity
                    class="id"
                    [isEmbedded]="isEmbedded"
                    [shuffleAll]="getNewAll"
                >
                </app-grvnt-identity>
                <app-grvnt-class
                    class="job"
                    [job]="jobObj"
                    (newJobEmitter)="getNewJob()"
                    (newBeast)="addBeastHP($event)"
                ></app-grvnt-class>
                <app-grvnt-shit
                    class="shit"
                    [shuffleAll]="getNewAll"
                    [presenceMod]="presenceNum"
                    [job]="jobObj"
                ></app-grvnt-shit>
            </section>
        } @else if (sectionToShow === 'missions') {
            <header>
                <h1>MISSION GENERATOR</h1>
                <span class="reroll-all">
                    <div (click)="rerollAllMission()" class="clickable"><strong>NEW ORDERS INCOMING</strong></div>
                </span>
            </header>
            <section class="body-layout">
                <span class="toolbar">
                    <span class="flex-row">
                        <span class="theme-section">
                            <div (click)="shuffleTheme()" class="clickable">SHUFFLE THEME:</div>
                            <strong>{{getThemeName()}}</strong>
                        </span>
                        <span class="theme-section no-extra-section">
                            <div (click)="print()" class="clickable">PRINT</div>
                        </span>
                    </span>
                </span>
                <app-mission-brief [getNewMission]="getNewMission" class="brief"></app-mission-brief>
                <app-mission-advance [getNewMission]="getNewMission" class="advance"></app-mission-advance>
                <app-mission-rewards class="rewards"></app-mission-rewards>
            </section>
        } @else if (sectionToShow === 'squads') {
            <header>
                <h1>SQVAD MAKER</h1>
                <span class="reroll-all">
                    <div (click)="rerollAllSquad()" class="clickable"><strong>A NEW SQVAD MARCHES ON</strong></div>
                </span>
            </header>
            <section class="body-layout">
                <span class="toolbar">
                    <span class="flex-row">
                        <span class="theme-section">
                            <div (click)="shuffleTheme()" class="clickable">SHUFFLE THEME:</div>
                            <strong>{{getThemeName()}}</strong>
                        </span>
                        <span class="theme-section no-extra-section">
                            <div (click)="print()" class="clickable">PRINT</div>
                        </span>
                    </span>
                </span>
                <div class="squad-size-section">
                    <strong (click)="rerollSquadSize()" class="subtle-clickable squad-detail-button">SQUAD DETAILS:</strong>
                    <span> {{squadSize | uppercase}}</span>
                </div>
                <app-squad-maker
                    [enemySize]="squadSize"
                    [rerollGrvnt]="getNewSquad"
                ></app-squad-maker>
            </section>
        }
        <footer>
            <div>
                Farewell to Arms REDUX is an independent production by rivethead games and is not affiliated with Ockult
                Örtmästare Games or Stockholm Kartell. It is published under the MÖRK BORG Third Party License.
            </div>
            <div>MÖRK BORG is copyright Ockult Örtmästare Games and Stockholm Kartell.</div>
            <div>Farewell to Arms REDUX is copyright 2023 rivethead games. Web app by codeLiches</div>
            <div><em>v0.4: SHINRIPPER SHUFFLE</em></div>
        </footer>
    </span>

    <nav>
        <div [ngClass]="{'active': sectionToShow === 'grvnts'}" (click)="displaySection('grvnts')" class="clickable">GRVNTS</div>
        <div [ngClass]="{'active': sectionToShow === 'squads'}" (click)="displaySection('squads')" class="clickable">SQUADS</div>
        <div [ngClass]="{'active': sectionToShow === 'missions'}" (click)="displaySection('missions')" class="clickable">MISSIONS</div>
    </nav>
</span>